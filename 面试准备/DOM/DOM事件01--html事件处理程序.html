<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HTML事件处理程序</title>
</head>
<body>
  <!--
    DOM2级可以添加多个事件处理程序,DOM0级会覆盖掉前面的事件处理程序
  -->
  <!--
    一、html事件流缺点: html与js紧密耦合在一起,不利于维护
  -->
  <div class="wrap">
    <p onclick="console.log('www')">点解我</p>
  </div>
  <!--
    二、DOM0级事件处理程序
  -->
  <input type="button" value="DOM0" id="btn">
  <script>
    var btn = document.getElementById('btn');
    btn.onclick = function () {
      console.log('DOM0级事件处理程序');
    }
    btn.onclick = null; //删除事件
  </script>
  <!--
    DOM2级事件处理程序两种:
      1、addEventListener() 指定事件处理程序
      2、removeEventListener() 删除事件处理程序
      接受三个参数: 要处理的事件名、函数、布尔值
  -->
  <input type="button" value="DOM2" id="btn3">
  <script>
    var btn3 = document.getElementById('btn3');
    function b3() {
      console.log('DOM3事件');
    }
    btn3.addEventListener('click',b3,false);
    btn3.addEventListener('click',function () {
      console.log(this.value);
    },false);
    btn3.removeEventListener('click',b3,false);
  </script>

  <!--
    IE事件处理程序
      attachEvent()
      detachEvent()
    接受两个参数,要处理的事件名,函数; (IE8及更早版本只支持事件冒泡)
  -->
  <input type="button" value="btn4" id="btn4">
  <script>
    var btn4 = document.getElementById('btn4');
    btn4.attachEvent('onclick',b3);
    btn4.detachEvent('onclick',b3);
  </script>
</body>
<script>
  /*
  *   兼容性写法
  * */
  var eventUtil = {
    addHandler : function (ele, type, handler) {
      /*
      *   ele: 元素
      *   type: 事件类型
      *   handler: 事件处理函数
      * */
      if (ele.addEventListener) {
        ele.addEventListener(type,handler,false);
      } else if (ele.attachEvent) {
        ele.attachEvent('on'+type,handler);
      } else {
        ele['on'+type] = handler;
      }
    }
  }
</script>
</html>